---
title: equals & hashCode를 재정의 하는 이유
date: 2022-12-16
tags:
  - java
  - equals
  - hashCode
---

## 들어가며

프로그래밍을 하면서 심심치 않게 equals와 hashCode 메서드를 보게 된다. 항상 equals와 hashCode를 재정의해라 equals만 재정의하면 안좋다라는 말을 보고 그냥 수긍하며 코드를 작성 했었다. 이렇게 대략적인 뜻만 알고 있었는데 이번 글을 통해 좀 더 깊게 파고들어 정확한 의미를 아는 것이 목표다. 

## equals()

Object클래스의 메서드 중 하나다. 매개변수로 객체의 참조변수를 받아서 비교하여 그 결과를 boolean 값으로 알려주는 역할을 지녔다. 실제 Object 클래스에 정의되어 있는 equals 메서드는 다음과 같다.

```java
public boolean equals(Object obj) {
		return (this == obj);
}
```

즉 Object클래스의 equals메서드는 `참조하는 객체 주소가 같은지`에 대한 판별을 해준다.

## hashCode()

equals메서드와 마찬가지로 Object클래스 메서드 중 하나다. 찾고자하는 값을 입력하면 그 값이 저장된 위치를 알려주는 해시코드(hashcode)를 반환해준다.

일반적으로 해시코드가 같은 두 객체가 존재하는 것이 가능하지만, Object클래스에 정의된 hashCode메서드는 객체의 주소값으로 해시코드를 만들어 반환하기 때문에 32bit JVM에서는 서로 다른 두 객체는 결코 같은 해시코드를 가질 수 없었지만 64bit JVM에서는 8byte 주소값으로 해시코드(4byte)를 만들기 때문에 해시코드가 중복 될 수 있다.

## Equals와 hashCode의 재정의

그렇다면 equals와 hashCode를 재정의 하는 이유는 뭘까? 먼저 논리적 동치성, 동등성에 대해 알 필요가 있다. 논리적 동치성, 동등성, 동일성에 대한 많은 언급들이 있는데 논리적 동치성과 동등성은 같은 뜻을 공유한다. 

## 참고

- 자바의 정석