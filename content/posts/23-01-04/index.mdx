---
title: Stream에 관하여
date: 2022-01-04
tags:
  - java
  - stream
---

## 들어가며

java로 알고리즘을 준비하면서 다양한 문법에 대해서 익히는 중이다. 지금 교재로 삼고 있는 “Do it 알고리즘 코딩 테스트 자바편”에서는 배열을 활용해 문제해결을 많이한다. 하지만 컬렉션이 동적으로 관리하기 편하고 다양한 메서드들을 제공해주기에 주로 컬렉션으로 문제를 해결하고자 노력하는 중이다. 이때 반복문 뿐만아니라 다양한 조건들을 처리할 때 매번 번거롭고 코드량이 많아지는 문제가 발생하는데 이참에 Stream에 관해 정리하며 더 적극적으로 사용해야겠다 생각이 들어 정리하게 됐다. (이후 개발하는 과정에서도 Stream이 유용해 보이기 때문에..)

## Stream이란

스트림은 데이터소스를 추상화하고, 데이터를 다루는데 자주 사용되는 메서드들을 정의해 놓은 인터페이스다. 스트림의 특징은 아래와 같다.

### 데이터 소스를 변경하지 않는다.

스트림은 마치 SQL의 SELECT문과 같이 기존의 데이터 소스로 부터 읽어온다. 따라서 기존 데이터는 변경되지 않는 특징이 있다. 필요하다면, 정렬된 경과를 컬렉션이나 배열에 담아서 반환할 수 있다.

```java
// 정렬된 결과를 새로운 List에 담아서 반환한다.
List<String> sortedList = strStream2.sorted().collect(Collectors.toList());
```

### 일회용이다.

스트림은 Iterator처럼 일회용이다. 한번 사용하면 닫혀서 다시 사용할 수 없다. 다시 사용하고 싶다면 재생성해야한다.

```java
strStream1.sorted().forEach(System.out::println);
int numOfStr = strStream1.count(); // 에러: 스트림이 이미 닫혀있음.
```

### 작업을 내부 반복으로 처리한다.

아마도 스트림을 사용하는 이유 중 가장 강력한 이유일 것이다. 내부 반복이라는 것은 반복문을 메서드의 내부에 숨길 수 있다는 의미한다. 스트림은 forEach()같은 스트림 내에 정의된 메서드로 매개변수에 대입된 람다식을 데이터 소스의 모든 요소에 적용할 수 있다.

```java
// 스트림을 사용하지 않았을 때
for (String str : strList)
		System.out.println(str);

// 스트림을 사용했을 때
stream.forEach(System.out::println);
```

## 스트림의 연산

스트림에 정의된 메서드 중에서 데이터 소스를 다루는 작업을 연산이라고 하는데 다양한 연산을 이용해서 복잡한 작업드을 간단히 처리할 수 있다. 

## 참고

- 자바의 정석 - 스트림